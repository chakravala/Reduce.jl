<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>4 Lists · Reduce.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><a href="../index.html"><img class="logo" src="../assets/logo.png" alt="Reduce.jl logo"/></a><h1>Reduce.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../index.html">Home</a></li><li><a class="toctext" href="../library.html">Library</a></li><li><span class="toctext">User&#39;s Manual</span><ul><li><a class="toctext" href="acknowledgement.html">Acknowledgement</a></li><li><a class="toctext" href="01-introduction.html">1 Introductory Information</a></li><li><a class="toctext" href="02-structure.html">2 Structure of Programs</a></li><li><a class="toctext" href="03-expressions.html">3 Expressions</a></li><li class="current"><a class="toctext" href="04-lists.html">4 Lists</a><ul class="internal"><li><a class="toctext" href="#.1-Operations-on-Lists-1">4.1 Operations on Lists</a></li></ul></li><li><a class="toctext" href="05-statements.html">5 Statements</a></li><li><a class="toctext" href="06-commands-declarations.html">6 Commands and Declarations</a></li><li><a class="toctext" href="07-prefix-ops.html">7 Built-in Prefix Operators</a></li><li><a class="toctext" href="08-display.html">8 Display and Structuring of Expressions</a></li><li><a class="toctext" href="09-polynomials.html">9 Polynomials and Rationals</a></li><li><a class="toctext" href="10-properties.html">10 Assigning and Testing Algebraic Properties</a></li><li><a class="toctext" href="11-substitution.html">11 Substitution Commands</a></li><li><a class="toctext" href="12-file-io.html">12 File Handling Commands</a></li><li><a class="toctext" href="13-interactive.html">13 Commands for Interactive Use</a></li><li><a class="toctext" href="14-matrix.html">14 Matrix Calculations</a></li><li><a class="toctext" href="15-procedures.html">15 Procedures</a></li><li><a class="toctext" href="16-packages.html">16 User Contributed Packages</a></li><li><a class="toctext" href="17-symbolic.html">17 Symbolic Mode</a></li><li><a class="toctext" href="18-physics.html">18 Calculations in High Energy Physics</a></li><li><a class="toctext" href="19-rlisp.html">19 REDUCE and Rlisp Utilities</a></li><li><a class="toctext" href="20-maintaining.html">20 Maintaining REDUCE</a></li><li><a class="toctext" href="A-reserved.html">Appendix A: Reserved Identifiers</a></li><li><a class="toctext" href="B-bibliography.html">Appendix B: Bibliography</a></li><li><a class="toctext" href="C-changelog.html">Appendix C: Changes since Version 3.8</a></li><li><a class="toctext" href="index.html">Index</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>User&#39;s Manual</li><li><a href="04-lists.html">4 Lists</a></li></ul><a class="edit-page" href="https://github.com/chakravala/Reduce.jl/blob/master/docs/src/man/04-lists.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>4 Lists</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Lists-1" href="#Lists-1">4 Lists</a></h1><p>A list is an object consisting of a sequence of other objects (including lists themselves), separated by commas and surrounded by braces. Examples of lists are:</p><pre><code class="language-Julia">R&quot;{a,b,c}&quot;
R&quot;{1,a-b,c=d}&quot;
R&quot;{{a},{{b,c},d},e}&quot;</code></pre><p>The empty list is represented as</p><pre><code class="language-Julia">R&quot;{}&quot;</code></pre><ul><li><a href="04-lists.html#Lists-1">4 Lists</a></li><ul><li><a href="04-lists.html#.1-Operations-on-Lists-1">4.1 Operations on Lists</a></li></ul></ul><h2><a class="nav-anchor" id=".1-Operations-on-Lists-1" href="#.1-Operations-on-Lists-1">4.1 Operations on Lists</a></h2><p>Several operators in the system return their results as lists, and a user can create new lists using braces and commas. Alternatively, one can use the operator <code>list</code> to construct a list. An important class of operations on lists are <code>map</code> and <code>select</code> operations. For details, please refer to the chapters on <code>map</code>, <code>select</code> and the <code>for</code> command. See also the documentation on the ASSIST (chapter 16.5) package.</p><p>To facilitate the use of lists, a number of operators are also available for manipulating them. <code>R&quot;part(⟨list⟩,n)&quot;</code> for example will return the <code>n</code>th element of a list. <code>length</code> will return the length of a list. Several operators are also defined uniquely for lists. For those familiar with them, these operators in fact mirror the operations defined for Lisp lists. These operators are as follows:</p><h3><a class="nav-anchor" id=".1.1-LIST-1" href="#.1.1-LIST-1">4.1.1 LIST</a></h3><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Reduce.list" href="#Reduce.list"><code>Reduce.list</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">list(r)</code></pre><p>The operator <code>list</code> is an alternative to the usage of curly brackets. <code>list</code> accepts an arbitrary number of arguments and returns a list of its arguments. This operator is useful in cases where operators have to be passed as arguments. E.g.,</p><pre><code class="language-Julia">julia&gt; list(:a,list(list(:b,:c),:d),:e) == R&quot;{{a},{{b,c},d},e}&quot;
true</code></pre></div><a class="source-link" target="_blank" href="https://github.com/chakravala/Reduce.jl/blob/337b5eac30168cdceb5e9071da8c3b31c9128f44/src/rexpr.jl#L168-L176">source</a></section><h3><a class="nav-anchor" id=".1.2-FIRST-1" href="#.1.2-FIRST-1">4.1.2 FIRST</a></h3><p>This operator returns the first member of a list. An error occurs if the argument is not a list, or the list is empty.</p><h3><a class="nav-anchor" id=".1.3-SECOND-1" href="#.1.3-SECOND-1">4.1.3 SECOND</a></h3><p><code>second</code> returns the second member of a list. An error occurs if the argument is not a list or has no second element.</p><h3><a class="nav-anchor" id=".1.4-THIRD-1" href="#.1.4-THIRD-1">4.1.4 THIRD</a></h3><p>This operator returns the third member of a list. An error occurs if the argument is not a list or has no third element.</p><h3><a class="nav-anchor" id=".1.5-REST-1" href="#.1.5-REST-1">4.1.5 REST</a></h3><p><code>rest</code> returns its argument with the first element removed. An error occurs if the argument is not a list, or is empty.</p><h3><a class="nav-anchor" id=".1.6-.-(Cons)-Operator-1" href="#.1.6-.-(Cons)-Operator-1">4.1.6 . (Cons) Operator</a></h3><p>This operator adds (“conses”) an expression to the front of a list. For example:</p><pre><code class="language-Julia">julia&gt; R&quot;a . {b,c}&quot; == R&quot;{a,b,c}&quot;
true</code></pre><h3><a class="nav-anchor" id=".1.7-APPEND-1" href="#.1.7-APPEND-1">4.1.7 APPEND</a></h3><p>This operator appends its first argument to its second to form a new list. <em>Examples:</em></p><pre><code class="language-Julia">R&quot;append({a,b},{c,d})&quot;     -&gt;     R&quot;{a,b,c,d}&quot;
R&quot;append({{a,b}},{c,d})&quot;   -&gt;     R&quot;{{a,b},c,d}&quot;</code></pre><h3><a class="nav-anchor" id=".1.8-REVERSE-1" href="#.1.8-REVERSE-1">4.1.8 REVERSE</a></h3><p>The operator <code>reverse</code> returns its argument with the elements in the reverse order. It only applies to the top level list, not any lower level lists that may occur. Examples are:</p><pre><code class="language-Julia">julia&gt; Algebra.reverse(list(:a,:b,:c)) ==  R&quot;{c,b,a}&quot;
true

julia&gt; R&quot;reverse({{a,b,c},d})&quot; == R&quot;{d,{a,b,c}}&quot;
true</code></pre><h3><a class="nav-anchor" id=".1.9-List-Arguments-of-Other-Operators-1" href="#.1.9-List-Arguments-of-Other-Operators-1">4.1.9 List Arguments of Other Operators</a></h3><p>If an operator other than those specifically defined for lists is given a single argument that is a list, then the result of this operation will be a list in which that operator is applied to each element of the list. For example, the result of evaluating <code>R&quot;log{a,b,c}&quot;</code> is the expression <code>R&quot;{LOG(A),LOG(B),LOG(C)}&quot;</code>.</p><p>There are two ways to inhibit this operator distribution. Firstly, the switch <code>listargs</code>, if on, will globally inhibit such distribution. Secondly, one can inhibit this distribution for a specific operator by the declaration <code>listargp</code>. For example, with the declaration <code>R&quot;listargp log, log{a,b,c}&quot;</code> would evaluate to <code>R&quot;log({a,b,c})&quot;</code>.</p><p>If an operator has more than one argument, no such distribution occurs.</p><h3><a class="nav-anchor" id=".1.10-Caveats-and-Examples-1" href="#.1.10-Caveats-and-Examples-1">4.1.10 Caveats and Examples</a></h3><p>Some of the natural list operations such as <em>member</em> or <em>delete</em> are available only after loading the package ASSIST (chapter 16.5).</p><p>Please note that a non-list as second argument to <code>cons</code> (a &quot;dotted pair&quot; in LISP terms) is not allowed and causes an &quot;invalid as list&quot; error.</p><pre><code class="language-none">julia&gt; R&quot;a := 17 . 4&quot;

***** 17 4 invalid as list</code></pre><p>Also, the initialization of a scalar variable is not the empty list – one has to set list type variables explicitly, as in the following example:</p><pre><code class="language-none"> load_package assist;  
 
 procedure lotto (n,m);  
  begin scalar list_1_n, luckies, hit;  
     list_1_n := {};  
     luckies := {};  
     for k:=1:n do list_1_n := k . list_1_n;  
     for k:=1:m do  
       &lt;&lt; hit := part(list_1_n,random(n-k+1) + 1);  
          list_1_n := delete(hit,list_1_n);  
          luckies := hit . luckies &gt;&gt;;  
     return luckies;  
  end;  
                 % In Germany, try lotto (49,6);</code></pre><p><em>Another example:</em> Find all coefficients of a multivariate polynomial with respect to a list of variables:</p><pre><code class="language-none">procedure allcoeffs(q,lis);  
   % q : polynomial, lis: list of vars  
   allcoeffs1 (list q,lis);  
 
procedure allcoeffs1(q,lis);  
  if lis={} then q else  
    allcoeffs1(foreach qq in q join coeff(qq,first lis),  
               rest lis);</code></pre><footer><hr/><a class="previous" href="03-expressions.html"><span class="direction">Previous</span><span class="title">3 Expressions</span></a><a class="next" href="05-statements.html"><span class="direction">Next</span><span class="title">5 Statements</span></a></footer></article></body></html>
